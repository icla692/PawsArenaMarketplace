"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[959],{4186:(e,t,a)=>{a.d(t,{c:()=>r});const r=e=>{let{IDL:t}=e;const a=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),r=t.Record({icrc2:t.Bool}),c=t.Record({icrc1_minting_account:t.Opt(a),feature_flags:t.Opt(r)}),n=t.Record({e8s:t.Nat64}),o=t.Record({secs:t.Nat64,nanos:t.Nat32}),i=t.Record({num_blocks_to_archive:t.Nat64,max_transactions_per_response:t.Opt(t.Nat64),trigger_threshold:t.Nat64,more_controller_ids:t.Opt(t.Vec(t.Principal)),max_message_size_bytes:t.Opt(t.Nat64),cycles_for_archive_creation:t.Opt(t.Nat64),node_max_memory_size_bytes:t.Opt(t.Nat64),controller_id:t.Principal}),s=t.Record({send_whitelist:t.Vec(t.Principal),token_symbol:t.Opt(t.Text),transfer_fee:t.Opt(n),minting_account:t.Text,maximum_number_of_accounts:t.Opt(t.Nat64),accounts_overflow_trim_quantity:t.Opt(t.Nat64),transaction_window:t.Opt(o),max_message_size_bytes:t.Opt(t.Nat64),icrc1_minting_account:t.Opt(a),archive_options:t.Opt(i),initial_values:t.Vec(t.Tuple(t.Text,n)),token_name:t.Opt(t.Text),feature_flags:t.Opt(r)}),l=(t.Variant({Upgrade:t.Opt(c),Init:s}),t.Record({account:t.Vec(t.Nat8)})),d=t.Record({account:t.Text}),u=t.Record({canister_id:t.Principal}),p=t.Record({archives:t.Vec(u)}),m=t.Record({decimals:t.Nat32}),_=t.Record({url:t.Text,name:t.Text}),N=t.Variant({Int:t.Int,Nat:t.Nat,Blob:t.Vec(t.Nat8),Text:t.Text}),f=t.Record({to:a,fee:t.Opt(t.Nat),memo:t.Opt(t.Vec(t.Nat8)),from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),x=t.Variant({GenericError:t.Record({message:t.Text,error_code:t.Nat}),TemporarilyUnavailable:t.Null,BadBurn:t.Record({min_burn_amount:t.Nat}),Duplicate:t.Record({duplicate_of:t.Nat}),BadFee:t.Record({expected_fee:t.Nat}),CreatedInFuture:t.Record({ledger_time:t.Nat64}),TooOld:t.Null,InsufficientFunds:t.Record({balance:t.Nat})}),b=t.Variant({Ok:t.Nat,Err:x}),g=t.Record({utc_offset_minutes:t.Opt(t.Int16),language:t.Text}),y=t.Variant({GenericDisplay:t.Null,LineDisplay:t.Record({characters_per_line:t.Nat16,lines_per_page:t.Nat16})}),h=t.Record({metadata:g,device_spec:t.Opt(y)}),R=t.Record({arg:t.Vec(t.Nat8),method:t.Text,user_preferences:h}),v=t.Record({lines:t.Vec(t.Text)}),O=t.Variant({LineDisplayMessage:t.Record({pages:t.Vec(v)}),GenericDisplayMessage:t.Text}),V=t.Record({metadata:g,consent_message:O}),w=t.Record({description:t.Text}),T=t.Variant({GenericError:t.Record({description:t.Text,error_code:t.Nat}),InsufficientPayment:w,UnsupportedCanisterCall:w,ConsentMessageUnavailable:w}),F=t.Variant({Ok:V,Err:T}),k=t.Record({account:a,spender:a}),j=t.Record({allowance:t.Nat,expires_at:t.Opt(t.Nat64)}),q=t.Record({fee:t.Opt(t.Nat),memo:t.Opt(t.Vec(t.Nat8)),from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,expected_allowance:t.Opt(t.Nat),expires_at:t.Opt(t.Nat64),spender:a}),U=t.Variant({GenericError:t.Record({message:t.Text,error_code:t.Nat}),TemporarilyUnavailable:t.Null,Duplicate:t.Record({duplicate_of:t.Nat}),BadFee:t.Record({expected_fee:t.Nat}),AllowanceChanged:t.Record({current_allowance:t.Nat}),CreatedInFuture:t.Record({ledger_time:t.Nat64}),TooOld:t.Null,Expired:t.Record({ledger_time:t.Nat64}),InsufficientFunds:t.Record({balance:t.Nat})}),A=t.Variant({Ok:t.Nat,Err:U}),I=t.Record({to:a,fee:t.Opt(t.Nat),spender_subaccount:t.Opt(t.Vec(t.Nat8)),from:a,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),C=t.Variant({GenericError:t.Record({message:t.Text,error_code:t.Nat}),TemporarilyUnavailable:t.Null,InsufficientAllowance:t.Record({allowance:t.Nat}),BadBurn:t.Record({min_burn_amount:t.Nat}),Duplicate:t.Record({duplicate_of:t.Nat}),BadFee:t.Record({expected_fee:t.Nat}),CreatedInFuture:t.Record({ledger_time:t.Nat64}),TooOld:t.Null,InsufficientFunds:t.Record({balance:t.Nat})}),S=t.Variant({Ok:t.Nat,Err:C}),E=t.Record({name:t.Text}),B=t.Record({start:t.Nat64,length:t.Nat64}),P=t.Record({timestamp_nanos:t.Nat64}),D=t.Variant({Approve:t.Record({fee:n,from:t.Vec(t.Nat8),allowance_e8s:t.Int,allowance:n,expected_allowance:t.Opt(n),expires_at:t.Opt(P),spender:t.Vec(t.Nat8)}),Burn:t.Record({from:t.Vec(t.Nat8),amount:n,spender:t.Opt(t.Vec(t.Nat8))}),Mint:t.Record({to:t.Vec(t.Nat8),amount:n}),Transfer:t.Record({to:t.Vec(t.Nat8),fee:n,from:t.Vec(t.Nat8),amount:n,spender:t.Opt(t.Vec(t.Nat8))})}),z=t.Record({memo:t.Nat64,icrc1_memo:t.Opt(t.Vec(t.Nat8)),operation:t.Opt(D),created_at_time:P}),M=t.Record({transaction:z,timestamp:P,parent_hash:t.Opt(t.Vec(t.Nat8))}),G=t.Record({blocks:t.Vec(M)}),L=t.Variant({BadFirstBlockIndex:t.Record({requested_index:t.Nat64,first_valid_index:t.Nat64}),Other:t.Record({error_message:t.Text,error_code:t.Nat64})}),W=t.Variant({Ok:G,Err:L}),J=t.Record({callback:t.Func([B],[W],["query"]),start:t.Nat64,length:t.Nat64}),X=t.Record({certificate:t.Opt(t.Vec(t.Nat8)),blocks:t.Vec(M),chain_length:t.Nat64,first_block_index:t.Nat64,archived_blocks:t.Vec(J)}),Z=t.Variant({Ok:t.Vec(t.Vec(t.Nat8)),Err:L}),$=t.Record({callback:t.Func([B],[Z],["query"]),start:t.Nat64,length:t.Nat64}),H=t.Record({certificate:t.Opt(t.Vec(t.Nat8)),blocks:t.Vec(t.Vec(t.Nat8)),chain_length:t.Nat64,first_block_index:t.Nat64,archived_blocks:t.Vec($)}),K=t.Record({to:t.Text,fee:n,memo:t.Nat64,from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(P),amount:n}),Q=t.Record({symbol:t.Text}),Y=t.Record({to:t.Vec(t.Nat8),fee:n,memo:t.Nat64,from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(P),amount:n}),ee=t.Variant({TxTooOld:t.Record({allowed_window_nanos:t.Nat64}),BadFee:t.Record({expected_fee:n}),TxDuplicate:t.Record({duplicate_of:t.Nat64}),TxCreatedInFuture:t.Null,InsufficientFunds:t.Record({balance:n})}),te=t.Variant({Ok:t.Nat64,Err:ee}),ae=t.Record({transfer_fee:n});return t.Service({account_balance:t.Func([l],[n],["query"]),account_balance_dfx:t.Func([d],[n],["query"]),account_identifier:t.Func([a],[t.Vec(t.Nat8)],["query"]),archives:t.Func([],[p],["query"]),decimals:t.Func([],[m],["query"]),icrc10_supported_standards:t.Func([],[t.Vec(_)],["query"]),icrc1_balance_of:t.Func([a],[t.Nat],["query"]),icrc1_decimals:t.Func([],[t.Nat8],["query"]),icrc1_fee:t.Func([],[t.Nat],["query"]),icrc1_metadata:t.Func([],[t.Vec(t.Tuple(t.Text,N))],["query"]),icrc1_minting_account:t.Func([],[t.Opt(a)],["query"]),icrc1_name:t.Func([],[t.Text],["query"]),icrc1_supported_standards:t.Func([],[t.Vec(_)],["query"]),icrc1_symbol:t.Func([],[t.Text],["query"]),icrc1_total_supply:t.Func([],[t.Nat],["query"]),icrc1_transfer:t.Func([f],[b],[]),icrc21_canister_call_consent_message:t.Func([R],[F],[]),icrc2_allowance:t.Func([k],[j],["query"]),icrc2_approve:t.Func([q],[A],[]),icrc2_transfer_from:t.Func([I],[S],[]),name:t.Func([],[E],["query"]),query_blocks:t.Func([B],[X],["query"]),query_encoded_blocks:t.Func([B],[H],["query"]),send_dfx:t.Func([K],[t.Nat64],[]),symbol:t.Func([],[Q],["query"]),transfer:t.Func([Y],[te],[]),transfer_fee:t.Func([t.Record({})],[ae],["query"])})}},1289:(e,t,a)=>{a.d(t,{TZ:()=>c,Wr:()=>o,_E:()=>n,h9:()=>i});var r=a(2198);function c(e,t){let a=new Uint8Array([10,116,105,100]);const c=r.Principal.fromText(t).toUint8Array();a=new Uint8Array([...a,...c]);let n=e;for(let r=3;r>=0;r--){const e=Math.pow(2,8*r),t=Math.floor(n/e);a=new Uint8Array([...a,t]),n-=t*e}return r.Principal.fromUint8Array(a).toText()}function n(e,t){const a=r.Principal.fromText(e).toUint8Array(),c=r.Principal.fromText(t).toUint8Array();let n=0;for(let r=0;r<4;r++)n=n<<8|a[a.length-4+r];const o=new Uint8Array([10,116,105,100,...c]);for(let r=0;r<o.length;r++)if(a[r]!==o[r])throw new Error("Invalid finalPrincipal or principal");return n}const o=e=>`${null===e||void 0===e?void 0:e.slice(0,6)}...${null===e||void 0===e?void 0:e.slice(-4)}`,i=e=>new Date(Number(e)/1e6).toLocaleString()},6551:(e,t,a)=>{a.d(t,{A:()=>m});var r=a(7097),c=a(5043),n=a(8973),o=a(8247),i=a(2013),s=a(1699),l=a(1935),d=a(39),u=a(4230),p=a(579);const m=e=>{let{nft:t,handleTrigger:a}=e;const[m,_]=(0,c.useState)(!1),[N,f]=(0,c.useState)(""),[x,b]=(0,c.useState)(!1),{invalidateListings:g}=(0,i.A)(),[y,h]=(0,c.useState)(!1),R=(0,d.fJ)(),{user:v}=(0,d._d)(),[O,V]=(0,c.useState)(!1),[w,T]=(0,c.useState)(""),[F,k]=(0,c.useState)(""),j=async(e,t)=>{T(e),k(t),V(!0),setTimeout((()=>V(!1)),3e3)},{mutateAsync:q}=(0,r.n)({mutationFn:e=>U(e),onSuccess:async()=>{g()}}),U=async e=>{e.preventDefault();let r=(0,s.M)(l.WC,u.c,R);if(console.log("new price : ",N,t),!r)return void j("login first","error");if(!N||0==N||!t)return;h(!0),b(!0);let c=await(null===r||void 0===r?void 0:r.update_nft_price(t,parseInt(1e8*N)));200==(null===c||void 0===c?void 0:c.status)&&"Ok"==(null===c||void 0===c?void 0:c.status_text)?j("price updated successfully","success"):j(null===c||void 0===c?void 0:c.error_text,"error"),a(),h(!1),b(!1)};return(0,p.jsxs)("div",{className:"flex flex-col gap-1 w-1/2",children:[O&&(0,p.jsx)("div",{className:"absolute text-xs top-5 z-50  left-1/2 transform -translate-x-1/2 transition-transform duration-500 ease-out "+("success"===F?"bg-green-100 text-green-800 border border-green-300 rounded-lg p-1 animate-slide-in":"bg-red-100 text-red-800 border border-red-300 rounded-lg p-1 animate-slide-in"),children:(0,p.jsx)("div",{className:"modal-message",children:(0,p.jsx)("p",{children:w})})}),(0,p.jsx)("button",{className:"flex bg-[#6fa0d1] w-full rounded-lg mt-4 font-bold text-white justify-center items-center p-2",onClick:()=>_(!0),children:"Update"}),m&&(0,p.jsx)("div",{className:"fixed inset-0 p-4 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,p.jsxs)("div",{className:"bg-[#252525] rounded-lg shadow-lg p-6 w-96",children:[(0,p.jsxs)("div",{className:"flex justify-between ",children:[(0,p.jsx)("h2",{className:" mb-4",children:"Update NFT price"}),(0,p.jsx)(n.PXF,{className:"cursor-pointer",onClick:()=>_(!1)})]}),(0,p.jsxs)("form",{onSubmit:q,children:[(0,p.jsx)("input",{type:"number",id:"price",value:N,placeholder:"enter new nft price",onChange:e=>f(e.target.value),className:" border border-white text-black rounded p-1 w-full mb-4",required:!0}),(0,p.jsx)("div",{className:"flex justify-end",children:x?(0,p.jsx)(o.A,{color:"white",size:20}):(0,p.jsx)("button",{type:"submit",className:"px-4 py-2 bg-white text-black rounded",children:"update"})})]})]})})]})}},5772:(e,t,a)=>{a.d(t,{A:()=>_});var r=a(7097),c=a(5043),n=a(8973),o=a(8247),i=a(2013),s=a(39),l=a(1935),d=a(4230),u=a(1699),p=a(3216),m=a(579);const _=e=>{let{nft:t,handleTrigger:a}=e;const[_,N]=(0,c.useState)(!1),[f,x]=(0,c.useState)(!1),[b,g]=(0,c.useState)(!1),[y,h]=(0,c.useState)(""),[R,v]=(0,c.useState)(""),{invalidateListings:O,invalidateUserNfts:V}=(0,i.A)(),w=(0,s.fJ)(),T=(0,p.Zp)(),F=async(e,t)=>{h(e),v(t),g(!0),setTimeout((()=>g(!1)),3e3)},{mutateAsync:k}=(0,r.n)({mutationFn:()=>j(),onSuccess:async()=>{O(),V(),x(!1)}}),j=async()=>{let e=(0,u.M)(l.WC,d.c,w);if(t&&e){x(!0);try{console.log("unlist :",t);let r=await(null===e||void 0===e?void 0:e.un_list_nft(t));200==(null===r||void 0===r?void 0:r.status)&&"Ok"==(null===r||void 0===r?void 0:r.status_text)?F("NFT unlisted successfully","success"):F(null===r||void 0===r?void 0:r.error_text,"error"),a(),T("/profile"),console.log("unlisting res :",r)}catch(r){console.log("error in unlisting token :",r)}}};return(0,m.jsxs)("div",{className:"flex flex-col gap-1 w-1/2",children:[(0,m.jsx)("div",{className:"flex flex-row gap-4",children:(0,m.jsx)("button",{className:"flex bg-[#2c2d2e] rounded-lg w-full mt-4 font-bold text-white justify-center items-center p-2 cursor-pointer",onClick:()=>N(!0),children:"Unlist"})}),_&&(0,m.jsxs)("div",{className:"fixed inset-0 p-4 flex items-center justify-center z-50 bg-black bg-opacity-50",children:[b&&(0,m.jsx)("div",{className:"absolute top-10 text-xs z-50  left-1/2 transform -translate-x-1/2 transition-transform duration-500 ease-out "+("success"===R?"bg-green-100 text-green-800 border border-green-300 rounded-lg p-1 animate-slide-in":"bg-red-100 text-red-800 border border-red-300 rounded-lg p-1 animate-slide-in"),children:(0,m.jsx)("div",{className:"modal-message",children:(0,m.jsx)("p",{children:y})})}),(0,m.jsxs)("div",{className:"bg-[#252525] rounded-lg shadow-lg p-6 w-96",children:[(0,m.jsxs)("div",{className:"flex justify-between ",children:[(0,m.jsx)("h2",{className:" mb-4",children:"Unlist NFT"}),(0,m.jsx)(n.PXF,{className:"cursor-pointer",onClick:()=>N(!1)})]}),(0,m.jsx)("span",{children:"Remove NFT from the marketplace?"}),(0,m.jsx)("div",{className:"flex justify-end mt-3",children:f?(0,m.jsx)(o.A,{color:"white",size:20}):(0,m.jsx)("button",{onClick:k,className:"px-4 py-2 bg-white text-black rounded",children:"Unlist"})})]})]})]})}}}]);
//# sourceMappingURL=959.8585c787.chunk.js.map