"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[539],{4186:(e,t,a)=>{a.d(t,{c:()=>r});const r=e=>{let{IDL:t}=e;const a=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),r=t.Record({icrc2:t.Bool}),c=t.Record({icrc1_minting_account:t.Opt(a),feature_flags:t.Opt(r)}),n=t.Record({e8s:t.Nat64}),o=t.Record({secs:t.Nat64,nanos:t.Nat32}),i=t.Record({num_blocks_to_archive:t.Nat64,max_transactions_per_response:t.Opt(t.Nat64),trigger_threshold:t.Nat64,more_controller_ids:t.Opt(t.Vec(t.Principal)),max_message_size_bytes:t.Opt(t.Nat64),cycles_for_archive_creation:t.Opt(t.Nat64),node_max_memory_size_bytes:t.Opt(t.Nat64),controller_id:t.Principal}),l=t.Record({send_whitelist:t.Vec(t.Principal),token_symbol:t.Opt(t.Text),transfer_fee:t.Opt(n),minting_account:t.Text,maximum_number_of_accounts:t.Opt(t.Nat64),accounts_overflow_trim_quantity:t.Opt(t.Nat64),transaction_window:t.Opt(o),max_message_size_bytes:t.Opt(t.Nat64),icrc1_minting_account:t.Opt(a),archive_options:t.Opt(i),initial_values:t.Vec(t.Tuple(t.Text,n)),token_name:t.Opt(t.Text),feature_flags:t.Opt(r)}),s=(t.Variant({Upgrade:t.Opt(c),Init:l}),t.Record({account:t.Vec(t.Nat8)})),d=t.Record({account:t.Text}),u=t.Record({canister_id:t.Principal}),p=t.Record({archives:t.Vec(u)}),m=t.Record({decimals:t.Nat32}),f=t.Record({url:t.Text,name:t.Text}),_=t.Variant({Int:t.Int,Nat:t.Nat,Blob:t.Vec(t.Nat8),Text:t.Text}),N=t.Record({to:a,fee:t.Opt(t.Nat),memo:t.Opt(t.Vec(t.Nat8)),from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),g=t.Variant({GenericError:t.Record({message:t.Text,error_code:t.Nat}),TemporarilyUnavailable:t.Null,BadBurn:t.Record({min_burn_amount:t.Nat}),Duplicate:t.Record({duplicate_of:t.Nat}),BadFee:t.Record({expected_fee:t.Nat}),CreatedInFuture:t.Record({ledger_time:t.Nat64}),TooOld:t.Null,InsufficientFunds:t.Record({balance:t.Nat})}),y=t.Variant({Ok:t.Nat,Err:g}),b=t.Record({utc_offset_minutes:t.Opt(t.Int16),language:t.Text}),x=t.Variant({GenericDisplay:t.Null,LineDisplay:t.Record({characters_per_line:t.Nat16,lines_per_page:t.Nat16})}),h=t.Record({metadata:b,device_spec:t.Opt(x)}),v=t.Record({arg:t.Vec(t.Nat8),method:t.Text,user_preferences:h}),O=t.Record({lines:t.Vec(t.Text)}),R=t.Variant({LineDisplayMessage:t.Record({pages:t.Vec(O)}),GenericDisplayMessage:t.Text}),F=t.Record({metadata:b,consent_message:R}),V=t.Record({description:t.Text}),w=t.Variant({GenericError:t.Record({description:t.Text,error_code:t.Nat}),InsufficientPayment:V,UnsupportedCanisterCall:V,ConsentMessageUnavailable:V}),k=t.Variant({Ok:F,Err:w}),T=t.Record({account:a,spender:a}),q=t.Record({allowance:t.Nat,expires_at:t.Opt(t.Nat64)}),I=t.Record({fee:t.Opt(t.Nat),memo:t.Opt(t.Vec(t.Nat8)),from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,expected_allowance:t.Opt(t.Nat),expires_at:t.Opt(t.Nat64),spender:a}),D=t.Variant({GenericError:t.Record({message:t.Text,error_code:t.Nat}),TemporarilyUnavailable:t.Null,Duplicate:t.Record({duplicate_of:t.Nat}),BadFee:t.Record({expected_fee:t.Nat}),AllowanceChanged:t.Record({current_allowance:t.Nat}),CreatedInFuture:t.Record({ledger_time:t.Nat64}),TooOld:t.Null,Expired:t.Record({ledger_time:t.Nat64}),InsufficientFunds:t.Record({balance:t.Nat})}),j=t.Variant({Ok:t.Nat,Err:D}),E=t.Record({to:a,fee:t.Opt(t.Nat),spender_subaccount:t.Opt(t.Vec(t.Nat8)),from:a,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),C=t.Variant({GenericError:t.Record({message:t.Text,error_code:t.Nat}),TemporarilyUnavailable:t.Null,InsufficientAllowance:t.Record({allowance:t.Nat}),BadBurn:t.Record({min_burn_amount:t.Nat}),Duplicate:t.Record({duplicate_of:t.Nat}),BadFee:t.Record({expected_fee:t.Nat}),CreatedInFuture:t.Record({ledger_time:t.Nat64}),TooOld:t.Null,InsufficientFunds:t.Record({balance:t.Nat})}),B=t.Variant({Ok:t.Nat,Err:C}),P=t.Record({name:t.Text}),M=t.Record({start:t.Nat64,length:t.Nat64}),Q=t.Record({timestamp_nanos:t.Nat64}),A=t.Variant({Approve:t.Record({fee:n,from:t.Vec(t.Nat8),allowance_e8s:t.Int,allowance:n,expected_allowance:t.Opt(n),expires_at:t.Opt(Q),spender:t.Vec(t.Nat8)}),Burn:t.Record({from:t.Vec(t.Nat8),amount:n,spender:t.Opt(t.Vec(t.Nat8))}),Mint:t.Record({to:t.Vec(t.Nat8),amount:n}),Transfer:t.Record({to:t.Vec(t.Nat8),fee:n,from:t.Vec(t.Nat8),amount:n,spender:t.Opt(t.Vec(t.Nat8))})}),U=t.Record({memo:t.Nat64,icrc1_memo:t.Opt(t.Vec(t.Nat8)),operation:t.Opt(A),created_at_time:Q}),L=t.Record({transaction:U,timestamp:Q,parent_hash:t.Opt(t.Vec(t.Nat8))}),S=t.Record({blocks:t.Vec(L)}),G=t.Variant({BadFirstBlockIndex:t.Record({requested_index:t.Nat64,first_valid_index:t.Nat64}),Other:t.Record({error_message:t.Text,error_code:t.Nat64})}),z=t.Variant({Ok:S,Err:G}),W=t.Record({callback:t.Func([M],[z],["query"]),start:t.Nat64,length:t.Nat64}),K=t.Record({certificate:t.Opt(t.Vec(t.Nat8)),blocks:t.Vec(L),chain_length:t.Nat64,first_block_index:t.Nat64,archived_blocks:t.Vec(W)}),J=t.Variant({Ok:t.Vec(t.Vec(t.Nat8)),Err:G}),H=t.Record({callback:t.Func([M],[J],["query"]),start:t.Nat64,length:t.Nat64}),Y=t.Record({certificate:t.Opt(t.Vec(t.Nat8)),blocks:t.Vec(t.Vec(t.Nat8)),chain_length:t.Nat64,first_block_index:t.Nat64,archived_blocks:t.Vec(H)}),Z=t.Record({to:t.Text,fee:n,memo:t.Nat64,from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(Q),amount:n}),X=t.Record({symbol:t.Text}),$=t.Record({to:t.Vec(t.Nat8),fee:n,memo:t.Nat64,from_subaccount:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(Q),amount:n}),ee=t.Variant({TxTooOld:t.Record({allowed_window_nanos:t.Nat64}),BadFee:t.Record({expected_fee:n}),TxDuplicate:t.Record({duplicate_of:t.Nat64}),TxCreatedInFuture:t.Null,InsufficientFunds:t.Record({balance:n})}),te=t.Variant({Ok:t.Nat64,Err:ee}),ae=t.Record({transfer_fee:n});return t.Service({account_balance:t.Func([s],[n],["query"]),account_balance_dfx:t.Func([d],[n],["query"]),account_identifier:t.Func([a],[t.Vec(t.Nat8)],["query"]),archives:t.Func([],[p],["query"]),decimals:t.Func([],[m],["query"]),icrc10_supported_standards:t.Func([],[t.Vec(f)],["query"]),icrc1_balance_of:t.Func([a],[t.Nat],["query"]),icrc1_decimals:t.Func([],[t.Nat8],["query"]),icrc1_fee:t.Func([],[t.Nat],["query"]),icrc1_metadata:t.Func([],[t.Vec(t.Tuple(t.Text,_))],["query"]),icrc1_minting_account:t.Func([],[t.Opt(a)],["query"]),icrc1_name:t.Func([],[t.Text],["query"]),icrc1_supported_standards:t.Func([],[t.Vec(f)],["query"]),icrc1_symbol:t.Func([],[t.Text],["query"]),icrc1_total_supply:t.Func([],[t.Nat],["query"]),icrc1_transfer:t.Func([N],[y],[]),icrc21_canister_call_consent_message:t.Func([v],[k],[]),icrc2_allowance:t.Func([T],[q],["query"]),icrc2_approve:t.Func([I],[j],[]),icrc2_transfer_from:t.Func([E],[B],[]),name:t.Func([],[P],["query"]),query_blocks:t.Func([M],[K],["query"]),query_encoded_blocks:t.Func([M],[Y],["query"]),send_dfx:t.Func([Z],[t.Nat64],[]),symbol:t.Func([],[X],["query"]),transfer:t.Func([$],[te],[]),transfer_fee:t.Func([t.Record({})],[ae],["query"])})}},9438:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var r=a(3248),c=a(3747),n=(a(2013),a(39)),o=a(2126),i=(a(2198),a(5043)),l=a(1699),s=a(4230),d=a(7586),u=a(1935);const p=a.p+"static/media/pic17.6b1f28b9d6b9d81fdfde.png";var m,f=a(4186),_=a(3216),N=a(826),g=a(4524),y=a(7628);!function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(m||(m={}));var b=function(e,t){if(e.startsWith("rgb"))return function(e,t){if(e.includes("/"))return e.replace("rgb(","rgba(");var a=e.substring(e.startsWith("rgba(")?5:4,e.length-1).trim(),r=a.split(",");return 4===r.length?e.replace("rgb(","rgba("):3===r.length?"rgba(".concat(a,", ").concat(t,")"):"rgba(".concat(a," / ").concat(t,")")}(e,t);if(Object.keys(m).includes(e)&&(e=m[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var a="";e.split("").forEach((function(e){a+=e,a+=e})),e=a}var r=(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ");return"rgba(".concat(r,", ").concat(t,")")},x=function(){return x=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},x.apply(this,arguments)},h=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(a[r[c]]=e[r[c]])}return a},v=(0,y.J)("BarLoader","0% {left: -35%;right: 100%} 60% {left: 100%;right: -90%} 100% {left: 100%;right: -90%}","long"),O=(0,y.J)("BarLoader","0% {left: -200%;right: 100%} 60% {left: 107%;right: -8%} 100% {left: 107%;right: -8%}","short");const R=function(e){var t=e.loading,a=void 0===t||t,r=e.color,c=void 0===r?"#000000":r,n=e.speedMultiplier,o=void 0===n?1:n,l=e.cssOverride,s=void 0===l?{}:l,d=e.height,u=void 0===d?4:d,p=e.width,m=void 0===p?100:p,f=h(e,["loading","color","speedMultiplier","cssOverride","height","width"]),_=x({display:"inherit",position:"relative",width:(0,g.p)(m),height:(0,g.p)(u),overflow:"hidden",backgroundColor:b(c,.2),backgroundClip:"padding-box"},s),N=function(e){return{position:"absolute",height:(0,g.p)(u),overflow:"hidden",backgroundColor:c,backgroundClip:"padding-box",display:"block",borderRadius:2,willChange:"left, right",animationFillMode:"forwards",animation:"".concat(1===e?v:O," ").concat(2.1/o,"s ").concat(2===e?"".concat(1.15/o,"s"):""," ").concat(1===e?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite")}};return a?i.createElement("span",x({style:_},f),i.createElement("span",{style:N(1)}),i.createElement("span",{style:N(2)})):null};var F=a(579);const V=()=>{const e=(0,_.Zp)(),t=(0,r.jE)(),[a,m]=(0,i.useState)(!1),{user:g}=(0,n._d)(),y=new N.qB({host:"https://ic0.app",retryTimes:10}),{data:b}=(0,c.I)({queryKey:["bulkData"]}),{data:x,isLoading:h}=(0,c.I)({queryKey:["collectionDetails"]}),{data:v}=(0,c.I)({queryKey:["refreshData"]}),[O,V]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{var e;if(!y||!g)return;const a=(0,l.M)(u.tc,f.c,y);let r=(0,l.M)(u.qY,d.c,y),c=(0,l.M)(u.WC,s.c,y);console.log("fetching user balance");const[n,i]=await Promise.all([await a.icrc1_balance_of({owner:null===g||void 0===g?void 0:g.principal,subaccount:[]}),await a.account_identifier({owner:null===g||void 0===g?void 0:g.principal,subaccount:[]})]);let p=o.nG.fromPrincipal({principal:null===g||void 0===g?void 0:g.principal}).toHex(),m=await r.tokens(p);m.ok&&await t.setQueryData(["userNFTS"],Array.from(m.ok));let _=await c.get_all_listed_nfts();await t.setQueryData(["userPrincipal"],null===g||void 0===g||null===(e=g.principal)||void 0===e?void 0:e.toString()),console.log("done fetching"),await t.setQueryData(["userAccountId"],i),await t.setQueryData(["userIcpBalance"],Number(n)/1e8),await t.setQueryData(["IcpActor"],a),await t.setQueryData(["nftActor"],r),await t.setQueryData(["marketplaceActor"],c),await t.setQueryData(["loginAgent"],y),await t.setQueryData(["allListings"],_.data[0])}catch(a){console.log("error in loading data :",a)}})()}),[g,v]);return(0,i.useEffect)((()=>{(async()=>{let e=[],a=[];if(b&&x)console.log("Data already present");else{m(!0);try{for(const t of u.Oq){let c=(0,l.M)(t.canisterId,d.c,y);try{const[r,n,o,i]=await Promise.all([c.stats(),c.listings(),c.transactions(),c.getTokens()]);e.push([t.canisterId,{imgUrl:t.imageUrl,canisterId:t.canisterId,name:t.name,description:t.description,volume:r[0],floorprice:r[3],totalListed:r[4],transactions:o,listings:n,allNftTokens:i}]),a.push({imgUrl:t.imageUrl,canisterId:t.canisterId,name:t.name,description:t.description,volume:r[0],floorprice:r[3],totalListed:r[4]})}catch(r){console.error("Error loading NFT data:",r)}}console.log("fetching bulk data",e),console.log("fetching collection details data",a),t.setQueryData(["bulkData"],e),t.setQueryData(["collectionDetails"],a)}catch(r){console.log("error in getting data:",r)}m(!1)}})()}),[O,v]),(0,i.useEffect)((()=>{(async()=>{if(!b||!x)return void V(Math.random().toString(36).substring(7));const e=(0,l.M)(u.WC,s.c,y),a=await(null===e||void 0===e?void 0:e.get_all_listed_nfts());for(const o of u.Oq){var r,c,n;const e=(null===a||void 0===a||null===(r=a.data[0])||void 0===r?void 0:r.filter((e=>e[1].nft_canister==o.canisterId)))||[],i=null===e||void 0===e?void 0:e.map((e=>[e[1].nft_id,{locked:[],seller:e[1].seller_principal,price:e[1].nft_price,inhouse_sale:!0}]));let l=null===b||void 0===b?void 0:b.find((e=>e[0]==o.canisterId));const s=[...i],d=Object.fromEntries(s.map((e=>[e[0],e]))),u=null===(c=l[1])||void 0===c||null===(n=c.allNftTokens)||void 0===n?void 0:n.map((e=>d[e[0]]?d[e[0]]:e));console.log("my tokens :",u),t.setQueryData(["myTokens"],u),t.setQueryData(["listedNfts"],u)}})()}),[b,x,v]),(0,F.jsxs)("div",{className:"w-full p-8 md:mt-[20px] min-h-screen flex m flex-col text-white",id:"about",children:[(0,F.jsx)("div",{className:"flex flex-col w-full",children:(0,F.jsxs)("div",{className:"p-4 md:px-20 flex mt-[80px] md:mt-[100px] flex-col items-center justify-center gap-1",children:[(0,F.jsx)("div",{className:"text-5xl  md:text-8xl uppercase ",children:"PawsArena"}),(0,F.jsx)("div",{className:"text-3xl md:text-5xl",children:"Marketplace"}),(0,F.jsx)("span",{className:" flex mt-4",children:"Discover, Collect and Sell Rare NFTs from the Pawsarena game"})]})}),(0,F.jsx)("div",{className:"md:flex mb-10 mt-2 justify-center items-center w-full",children:(0,F.jsx)("div",{className:"flex  gap-2",children:[p].map(((t,r)=>(0,F.jsxs)("div",{className:"relative",children:[a&&(0,F.jsx)("div",{className:"absolute inset-0 flex justify-center items-center bg-black bg-opacity-50 rounded-xl",children:(0,F.jsx)(R,{loading:!0,size:30,color:"#36d7b7"})}),(0,F.jsx)("img",{src:t,onClick:()=>e("./collection/rw7qm-eiaaa-aaaak-aaiqq-cai"),alt:"nft",className:"h-[250px] md:h-[200px] cursor-pointer rounded-xl w-full object-cover"})]},r)))})})]})}}}]);
//# sourceMappingURL=539.be360ca6.chunk.js.map